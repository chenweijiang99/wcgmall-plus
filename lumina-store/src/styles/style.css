@import "tailwindcss";

@font-face {
  font-family: 'Handwriting';
  src: url('@/assets/font/2.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
}

/* 
  Tailwind CSS v4 暗黑模式变体定义
  允许通过 html.dark 或 body.dark 切换
*/
@variant dark (&:where(.dark, .dark *));

@theme {
  /* 自定义字体 */
  --font-sans: 'Handwriting', 'sans-serif';

  /* 自定义颜色 */
  --color-primary: #000000;
  --color-primary-dark: #ffffff;
  --color-accent: #007AFF;

  /* 自定义动画 */
  --animate-fade-in: fadeIn 0.5s ease-out;
  --animate-slide-in-right: slideInRight 0.3s ease-out;
  --animate-fade-in-up: fadeInUp 0.8s ease-out;

  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
  @keyframes slideInRight {
    0% { transform: translateX(100%); }
    100% { transform: translateX(0); }
  }
  @keyframes fadeInUp {
    0% { opacity: 0; transform: translateY(20px); }
    100% { opacity: 1; transform: translateY(0); }
  }
}

/* =========================================
   Element Plus & Global 变量覆盖
   ========================================= */
:root {
  /* 浅色模式: 主色为黑 */
  --el-color-primary: #000000;
  --el-color-primary-light-3: #333333;
  --el-color-primary-light-5: #666666;
  --el-color-primary-light-7: #999999;
  --el-color-primary-light-9: #cccccc;
  --el-color-primary-dark-2: #333333;
}

/* 暗黑模式变量覆盖 */
.dark {
  /* 深色模式: 主色为白 */
  --el-color-primary: #ffffff;
  --el-color-primary-light-3: #e5e5e5;
  --el-color-primary-light-5: #cccccc;
  --el-color-primary-light-7: #aaaaaa;
  --el-color-primary-light-9: #444444;
  --el-color-primary-dark-2: #e5e5e5;
  
  /* 基础背景色适配 (使用 Zinc 色系) */
  --el-bg-color: #000000;
  --el-bg-color-overlay: #18181b; /* zinc-900 */
  --el-text-color-primary: #ffffff;
  --el-text-color-regular: #d4d4d8; /* zinc-300 */
  --el-text-color-secondary: #a1a1aa; /* zinc-400 */
  --el-border-color: #27272a; /* zinc-800 */
  --el-border-color-light: #3f3f46; /* zinc-700 */
  --el-fill-color-blank: #000000;

  /* =========================================
     MdEditor V3 暗黑模式适配变量
     ========================================= */
  --md-color: #e4e4e7;              /* 文本颜色 */
  --md-bk-color: #18181b;           /* 编辑器背景 (zinc-900) */
  --md-bk-color-outstand: #27272a;  /* 工具栏背景 (zinc-800) */
  --md-bk-hover: #3f3f46;           /* 悬停背景 (zinc-700) */
  --md-border-color: #3f3f46;       /* 边框颜色 */
  --md-code-bk-color: #27272a;      /* 代码块背景 */
  --md-scrollbar-bg: #3f3f46;       /* 滚动条轨道 */
  --md-scrollbar-thumb: #71717a;    /* 滚动条滑块 */
  --md-theme-color: #ffffff;        /* 光标和选中颜色跟随主色 */
}

/* =========================================
   Element Plus 组件深度定制
   ========================================= */

/* Primary 按钮适配 */
.el-button--primary {
  --el-button-border-color: var(--el-color-primary);
  --el-button-hover-bg-color: #333333;
  --el-button-hover-border-color: #333333;
}

.dark .el-button--primary {
  --el-button-text-color: #000000;
  --el-button-bg-color: #ffffff;
  --el-button-border-color: #ffffff;
  --el-button-hover-text-color: #000000;
  --el-button-hover-bg-color: #e4e4e7; /* zinc-200 */
  --el-button-hover-border-color: #e4e4e7;
  --el-button-active-bg-color: #d4d4d8; /* zinc-300 */
  --el-button-active-border-color: #d4d4d8;
  --el-button-disabled-text-color: #71717a;
  --el-button-disabled-bg-color: #27272a;
  --el-button-disabled-border-color: #27272a;
}

/* 弹窗、卡片、抽屉适配 */
.dark .el-dialog, 
.dark .el-bg-white,
.dark .el-drawer,
.dark .el-card {
  background-color: #18181b; /* zinc-900 */
  color: #fff;
  border-color: #27272a;
}

/* 输入框适配 */
.dark .el-input__wrapper,
.dark .el-textarea__inner {
  background-color: #27272a; /* zinc-800 */
  box-shadow: 0 0 0 1px #3f3f46 inset; /* zinc-700 */
}

.dark .el-input__inner,
.dark .el-textarea__inner {
  color: white;
}

/* 修复 Input hover/focus 状态 */
.dark .el-input__wrapper:hover,
.dark .el-textarea__inner:hover {
  box-shadow: 0 0 0 1px #71717a inset; /* zinc-500 */
}
.dark .el-input__wrapper.is-focus,
.dark .el-textarea__inner:focus {
  box-shadow: 0 0 0 1px #ffffff inset; /* focus 时白边 */
}

/* 下拉菜单 (Dropdown/Select) 适配 */
.dark .el-popper.is-light,
.dark .el-dropdown-menu,
.dark .el-select-dropdown {
  background-color: #18181b;
  border-color: #3f3f46;
}

.dark .el-dropdown-menu__item,
.dark .el-select-dropdown__item {
  color: #e4e4e7;
}

.dark .el-dropdown-menu__item:hover,
.dark .el-dropdown-menu__item:focus,
.dark .el-select-dropdown__item.hover,
.dark .el-select-dropdown__item.selected {
  background-color: #27272a;
  color: #fff;
}

.dark .el-popper__arrow::before {
  background-color: #18181b !important;
  border-color: #3f3f46 !important;
}

/* Checkbox 适配 */
.dark .el-checkbox__inner {
  background-color: transparent;
  border-color: #52525b;
}
.dark .el-checkbox__input.is-checked .el-checkbox__inner {
  background-color: #fff;
  border-color: #fff;
}
.dark .el-checkbox__input.is-checked .el-checkbox__inner::after {
  border-color: #000;
}
.dark .el-checkbox__label {
  color: #d4d4d8;
}
.dark .el-checkbox__input.is-checked + .el-checkbox__label {
  color: #fff;
}

/* 
  MdEditor V3 特殊样式覆盖 
  确保编辑器边框和圆角与 Element Plus 一致
*/
.md-editor {
  border-radius: 8px; /* 匹配 Element Plus 默认圆角 */
}
.dark .md-editor {
  --md-bk-color: #18181b;
}
/* 修复深色模式下 MdEditor 工具栏下拉菜单的背景 */
.dark .md-editor-dropdown {
  background-color: #18181b !important;
  border-color: #3f3f46 !important;
  color: #e4e4e7 !important;
}
.dark .md-editor-menu-item:hover {
  background-color: #27272a !important;
}

/* 
  全局滚动条样式 
*/
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #d1d5db;
  border-radius: 4px;
}
.dark ::-webkit-scrollbar-thumb {
  background: #3f3f46; /* zinc-700 */
}
::-webkit-scrollbar-thumb:hover {
  background: #9ca3af;
}
.dark ::-webkit-scrollbar-thumb:hover {
  background: #52525b; /* zinc-600 */
}

/* 页面过渡动画 */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.2s ease;
}
.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}