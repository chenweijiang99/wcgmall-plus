<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.river.mapper.ShoppingCartMapper">
    <!-- 可以在这里添加自定义的复杂SQL查询 -->
    <resultMap id="ShoppingCartVoMap" type="com.river.vo.shoppingCart.ShoppingCartVo">
        <id property="id" column="id" />
        <result property="productId" column="product_id" />
        <result property="userId" column="user_id" />
        <result property="number" column="number" />
        <result property="productName" column="product_name" />
        <result property="productPrice" column="product_price" />
        <result property="productImage" column="product_image" />
    </resultMap>


    <select id="listByUserId" resultType="com.river.vo.shoppingCart.ShoppingCartVo">
        select sc.*, p.name as product_name, p.price as product_price, p.image as product_image
        from shopping_cart sc
        left join product p on sc.product_id = p.id
        where sc.user_id = #{userId}
    </select>
</mapper>
